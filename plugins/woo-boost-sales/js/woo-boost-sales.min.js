function wbs_sort_object(s){"use strict";return Object.keys(s).sort().reduce(function(e,t){return e[t]=s[t],e},{})}var time_redirect,cross_sell_init;jQuery(document).ready(function(s){"use strict";if(jQuery(document).on("click","#wbs-content-discount-bar .wbs-overlay, #wbs-content-discount-bar .wbs-close",function(){jQuery("#wbs-content-discount-bar").fadeOut(200),clearTimeout(time_redirect),woocommerce_boost_sales_params.show_thank_you=!0}),jQuery("body").on("click",".wbs-button-continue-stay",function(s){s.preventDefault(),jQuery(this).closest(".woocommerce-boost-sales").find(".wbs-close").click()}),"undefined"!=typeof woocommerce_boost_sales_params){var e=jQuery(".wbs-crosssells");if(e.length>0){var t=e.find("select");e.find(".wbs-variations_form").map(function(){let a=s(this),r=a.closest(".wbs-product"),i=r.find(".product-image img").eq(0);a.wc_variation_form(),a.on("found_variation",function(a,l){l.attributes&&l.is_in_stock&&l.is_purchasable&&(r.data("variation_id",l.variation_id),l.price_html&&(r.data("item_price",parseFloat(l.display_price)),r.find(".price:not(wbs-bundle-item-variation-price)").hide(),r.find(".wbs-bundle-item-variation-price").html(s(l.price_html).html()).show()),o(l.image,i));for(var n=!0,c=0;c<t.length;c++)if(""==t.eq(c).val()){n=!1;break}n?(woo_boost_sale.handle_price(e,!0),e.find(".wbs-single_add_to_cart_button").removeClass("disabled wc-variation-selection-needed")):(woo_boost_sale.handle_price(e),e.find(".wbs-single_add_to_cart_button").addClass("disabled wc-variation-selection-needed"))})}),t.length>0&&(e.find(".wbs-single_add_to_cart_button").addClass("disabled wc-variation-selection-needed"),t.on("change",function(){if(!s(this).val()){let t=s(this).closest(".wbs-product"),a=t.find(".product-image img").eq(0);t.find(".price:not(wbs-bundle-item-variation-price)").show(),t.find(".wbs-bundle-item-variation-price").hide(),o(t.data("item_image"),a),woo_boost_sale.handle_price(e),e.find(".wbs-single_add_to_cart_button").addClass("disabled wc-variation-selection-needed")}}))}}function o(s,e){s&&(s.hasOwnProperty("srcset")&&s.srcset?e.attr("srcset",s.srcset):e.attr("srcset",""),s.hasOwnProperty("thumb_src")&&s.thumb_src?e.attr("src",s.thumb_src):s.hasOwnProperty("url")&&s.url&&e.attr("src",s.url))}woo_boost_sale.init(),woo_boost_sale.add_to_cart()});var woo_boost_sale={hide_crosssell_init:0,check_quantity:0,init:function(){if("undefined"==typeof wbs_add_to_cart_params||1!=parseInt(wbs_add_to_cart_params.ajax_button)?("undefined"==typeof viwsatc_sb_params||viwsatc_sb_params.added_to_cart)&&this.slider():woocommerce_boost_sales_params.added_to_cart&&this.slider(),this.product_variation(),woo_boost_sale.hide(),this.hide_crosssell_init||this.initial_delay_icon(),jQuery(".gift-button").on("click",function(){woo_boost_sale.show_cross_sell(),jQuery(".vi-wbs-headline").removeClass("wbs-crosssell-message").addClass("wbs-crosssell-message")}),jQuery("#wbs-content-cross-sells-product-single .wbs-crosssells").length>0&&this.cross_slider(),jQuery(".woocommerce-boost-sales.wbs-content-up-sell .single_add_to_cart_button").unbind(),jQuery("#wbs-gift-button-cat").on("click",function(){woo_boost_sale.hide_upsell(),woo_boost_sale.show_cross_sell_archive()}),jQuery(".vi-wbs-topbar").hasClass("wbs_top_bar")){var s=jQuery(window).width();jQuery(".vi-wbs-headline").css("top","50px"),s>=1366?jQuery(".wbs-archive-upsells .wbs-content").css("margin-top","45px"):jQuery(".wbs-archive-upsells .wbs-content").css("margin-top","85px")}jQuery(".vi-wbs-topbar").hasClass("wbs_bottom_bar")||((s=jQuery(window).width())<1366&&jQuery(".wbs-archive-upsells .wbs-content").css("margin-top","70px"),s<640&&jQuery(".wbs-archive-upsells .wbs-content").css("margin-top","0px"));jQuery(".wbs-message-success").length<1&&jQuery(".wbs-content-up-sell").css("height","100%"),jQuery(".wbs-content").hasClass("wbs-msg-congrats")&&setTimeout(function(){jQuery(".vi-wbs-headline").show()},0),jQuery(document).on("click",".vi-wbs_progress_close",function(){jQuery(".vi-wbs-topbar").fadeOut("slow")}),jQuery("#flexslider-cross-sell .vi-flex-prev").hasClass("vi-flex-disabled")||jQuery("#flexslider-cross-sell").hover(function(){jQuery("#flexslider-cross-sell .vi-flex-prev").css("opacity","1")},function(){jQuery("#flexslider-cross-sell .vi-flex-prev").css("opacity","0")}),jQuery("#flexslider-cross-sell .vi-flex-next").hasClass("vi-flex-disabled")||jQuery("#flexslider-cross-sell").hover(function(){jQuery("#flexslider-cross-sell .vi-flex-next").css("opacity","1")},function(){jQuery("#flexslider-cross-sell .vi-flex-next").css("opacity","0")}),jQuery(".wbs-wrapper").animate({opacity:1},200),woo_boost_sale.chosen_variable_upsell(),jQuery(".wbs-upsells > .wbs-").find("div.vi-wbs-chosen:first").removeClass("wbs-hidden-variable").addClass("wbs-show-variable")},product_variation:function(){jQuery("#wbs-content-upsells").find(".wbs-variations_form").each(function(){jQuery(this).wc_variation_form()}),jQuery("#wbs-content-upsells").on("check_variations",function(){jQuery(this).find(".variations_button").each(function(){jQuery(this).hasClass("woocommerce-variation-add-to-cart-disabled")?jQuery(this).find(".wbs-single_add_to_cart_button").addClass("disabled wc-variation-selection-needed"):jQuery(this).find(".wbs-single_add_to_cart_button").removeClass("disabled wc-variation-selection-needed")})}),jQuery("#wbs-content-upsells").on("show_variation",function(){jQuery(this).find(".variations_button").each(function(){jQuery(this).hasClass("woocommerce-variation-add-to-cart-disabled")?jQuery(this).find(".wbs-single_add_to_cart_button").addClass("disabled wc-variation-selection-needed"):jQuery(this).find(".wbs-single_add_to_cart_button").removeClass("disabled wc-variation-selection-needed")})}),jQuery(".wbs-single_add_to_cart_button").on("click",function(s){jQuery(this).is(".disabled")&&(s.preventDefault(),jQuery(this).hasClass("wc-variation-is-unavailable")?window.alert(wc_add_to_cart_variation_params.i18n_unavailable_text):jQuery(this).hasClass("wc-variation-selection-needed")&&window.alert(wc_add_to_cart_variation_params.i18n_make_a_selection_text))})},add_to_cart:function(){var s=jQuery(".wbs-content-up-sell");jQuery(document).ajaxComplete(function(e,t,o){if(!o.hasOwnProperty("contentType")||!1!==o.contentType){var a=o.url,r=o.data,i=0,l=0,n=0;if(""!=r&&null!=r&&!jQuery.isEmptyObject(r)){for(var c=r.split("&"),d=0;d<c.length;d++)c[d].search(/product_id/i)>=0?i=c[d]:c[d].search(/add-to-cart/i)>=0&&(i=c[d]),c[d].search(/variation_id/i)>=0&&(l=c[d],n=1);if(n){if(!l)return;i=l.replace(/^\D+/g,""),i=parseInt(i)}else{if(!i)return;i=i.replace(/^\D+/g,""),i=parseInt(i)}if(a.search(/wc-ajax=add_to_cart/i)>=0||a.search(/wc-ajax=viwcaio_add_to_cart/i)>=0||a.search(/wc-ajax=wpvs_add_to_cart/i)>=0||r.search(/action=wbs_ajax_add_to_cart/i)>=0||r.search(/action=wacv_ajax_add_to_cart/i)>=0||r.search(/action=woofc_update_cart/i)>=0){let e=[];if(void 0!==t&&t.hasOwnProperty("responseJSON")&&t.responseJSON&&t.responseJSON.hasOwnProperty("fragments")&&t.responseJSON.fragments){let o=t.responseJSON.fragments;o.hasOwnProperty("wbs_added_to_cart")&&o.wbs_added_to_cart&&o.wbs_added_to_cart.hasOwnProperty(i)&&o.wbs_added_to_cart[i]&&(e=o.wbs_added_to_cart),o.hasOwnProperty("wbs_upsells_html")&&o.wbs_upsells_html&&(o.wbs_upsells_html.search(/wbs-overlay/i)<1&&(jQuery("html").removeClass("wbs-html-overflow"),jQuery(".vi-wbs-topbar").animate({opacity:1},500)),0===s.length&&(s=jQuery('<div id="wbs-content-upsells" class="woocommerce-boost-sales wbs-content-up-sell wbs-archive-page" style="display: none;"></div>'),jQuery("body").append(s)),s.html(o.wbs_upsells_html),s.css({opacity:0,display:"flex",visibility:"visible"}).animate({opacity:1},300),woo_boost_sale.hide_crosssell_init=1,woo_boost_sale.init(),woo_boost_sale.slider(),setTimeout(function(){jQuery(".wbs-wrapper").animate({opacity:1},200)},200))}}}}})},hide:function(){jQuery(".wbs-close, .woocommerce-boost-sales .wbs-overlay").unbind(),jQuery(".wbs-close, .woocommerce-boost-sales .wbs-overlay").on("click",function(){jQuery(".woocommerce-boost-sales").not(".woocommerce-boost-sales-active-discount").fadeOut(200),jQuery("html").removeClass("wbs-html-overflow"),clearTimeout(time_redirect),woocommerce_boost_sales_params.show_thank_you=!0})},slider:function(){var s=jQuery(window).width(),e=jQuery("#flexslider-up-sell").attr("data-item-per-row"),t=jQuery("#flexslider-up-sell").attr("data-item-per-row-mobile"),o=jQuery("#flexslider-up-sell").attr("data-rtl");o=!!parseInt(o),null==e&&(e=4),s<768&&s>=600&&(e=2),s<600&&(e=t),jQuery("#flexslider-up-sell").length>0&&(jQuery("#flexslider-up-sell").vi_flexslider({namespace:"woocommerce-boost-sales-",selector:".wbs-vi-slides > .wbs-product",animation:"slide",animationLoop:!1,itemWidth:145,itemMargin:12,controlNav:!1,maxItems:e,reverse:!1,slideshow:!1,rtl:o}),(jQuery("#wbs-content-upsells").hasClass("wbs-form-submit")||"undefined"!=typeof wbs_add_to_cart_params&&1!=parseInt(wbs_add_to_cart_params.ajax_button))&&jQuery("html").addClass("wbs-html-overflow"))},cross_slider:function(){var s=jQuery(".wbs-cross-sells").attr("data-rtl"),e=jQuery(window).width(),t=24,o=woocommerce_boost_sales_params.crosssells_max_item_desktop,a=jQuery("#flexslider-cross-sells").width();e<768&&e>=600&&(2,o=woocommerce_boost_sales_params.crosssells_max_item_tablet),e<600&&(t=6,1,o=woocommerce_boost_sales_params.crosssells_max_item_mobile),o<2&&(o=2),s=!!parseInt(s);var r=jQuery("#flexslider-cross-sells").find(".wbs-product").length;if(o>r&&(o=r),jQuery("#wbs-content-cross-sells-product-single #flexslider-cross-sells").length>0)t=6,jQuery("#flexslider-cross-sells").vi_flexslider({namespace:"woocommerce-boost-sales-",selector:".wbs-cross-sells > .wbs-product",animation:"slide",animationLoop:!1,itemWidth:parseInt(a/o)-6,itemMargin:t,controlNav:!1,maxItems:o,slideshow:!1,rtl:s});else{var i=jQuery("#flexslider-cross-sells");if(i.length>0){var l=150;r<3&&(l=175),a=(l+24)*o+30,jQuery(".wbs-content-inner.wbs-content-inner-crs").css({"max-width":i.find(".wbs-cross-sells").hasClass("wbs-products-1")?380:a+"px"}),i.vi_flexslider({namespace:"woocommerce-boost-sales-",selector:".wbs-cross-sells > .wbs-product",animation:"slide",animationLoop:!1,itemWidth:l,itemMargin:t,controlNav:!1,maxItems:o,slideshow:!1,rtl:s}),jQuery("html").addClass("wbs-html-overflow")}}},hide_upsell:function(){jQuery(".wbs-content").fadeOut(200)},hide_cross_sell:function(){jQuery("#wbs-content-cross-sells").fadeOut(200)},show_cross_sell:function(){jQuery("#wbs-content-cross-sells").fadeIn("slow"),jQuery("html").addClass("wbs-html-overflow"),this.cross_slider()},show_cross_sell_archive:function(){jQuery("#wbs-cross-sell-archive").fadeIn("slow")},counter:function(s,e){var t=jQuery(".vi-wbs-btn-redeem").attr("href");!function o(){s.html(e),0==e&&t&&(window.location.href=t),e--&&(time_redirect=setTimeout(o,1e3))}()},initial_delay_icon:function(){if(jQuery("#wbs-content-cross-sells").length>0){var s=jQuery("#wbs-content-cross-sells").attr("data-initial_delay"),e=jQuery("#wbs-content-cross-sells").attr("data-open");cross_sell_init=setTimeout(function(){jQuery(".gift-button").fadeIn("medium"),e>0&&woo_boost_sale.show_cross_sell()},1e3*s)}},chosen_variable_upsell:function(){jQuery("select.wbs-variable").on("change",function(){var s=jQuery(this).val();jQuery(this).closest("div.wbs-product").find(".vi-wbs-chosen").removeClass("wbs-show-variable").addClass("wbs-hidden-variable"),jQuery(this).closest("div.wbs-product").find(".wbs-variation-"+s).removeClass("wbs-hidden-variable").addClass("wbs-show-variable")})},format_number(s,e,t,o){void 0===e&&(e=woocommerce_boost_sales_params.decimals),void 0===t&&(t=woocommerce_boost_sales_params.decimal_separator),void 0===o&&(o=woocommerce_boost_sales_params.thousand_separator);let a=(s=s.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})).split(".");return s=a[0].split(",").join(o),2===a.length&&(s=s+t+a[1]),s},handle_price(s,e=!1){let t=s.find(".wbs-product"),o=0,a=jQuery(".wbs-crosssells-overall-price"),r=jQuery(".wbs-total-price-origin"),i=jQuery(".wbs-total-price-current"),l=jQuery(".wbs-save-price-origin"),n=jQuery(".wbs-save-price-current"),c=parseInt(s.data("saved_type")),d=parseFloat(s.data("fixed_price")),_=jQuery(".wbs-crosssells-atc-price");if(t.map(function(){let s=jQuery(this);o+=parseInt(s.data("item_quantity"))*parseFloat(s.data("item_price"))}),e){a.hide(),i.html(woocommerce_boost_sales_params.modal_price.replace(woo_boost_sale.format_number(1),woo_boost_sale.format_number(o))).show();let e=s.data("discount_type"),t=s.data("discount_amount"),u=o,w=0;s.data("dynamic_price")?(t=t?parseFloat(s.data("discount_amount")):0,"percent"===e?(u=o*(1-t/100))<0&&(u=0):(u=o-t)<0&&(u=0)):u=d,u=parseFloat(woo_boost_sale.format_number(u,void 0,".","")),w=o-u,0===c?(l.hide(),n.html(woocommerce_boost_sales_params.modal_price.replace(woo_boost_sale.format_number(1),woo_boost_sale.format_number(w))).show()):1===c&&(l.hide(),n.html(`${woo_boost_sale.format_number(100*w/o,0)}%`).show()),r.hide(),_.html(woocommerce_boost_sales_params.modal_price.replace(woo_boost_sale.format_number(1),woo_boost_sale.format_number(u))).show()}else a.show(),r.show(),i.hide(),0===c&&(l.show(),n.hide()),_.hide()}};